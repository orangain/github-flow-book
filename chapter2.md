# 第2章 GitHub Flowの概要

本章ではGitHub Flowの概要を解説します。

## 2.1. Gitワークフローの必要性

複数人で開発を行う際は、チームでワークフローを決め、そのワークフローに則って開発を進める必要があります。各自が好き勝手に開発を行ってしまうと、各自の変更が衝突（コンフリクトと呼びます）してしまい、その解消に時間を費やすことになります。

特にGitは分散バージョン管理なので、各開発者の持つ履歴が異なるものになり、自分の手元だけで問題が起きてしまうこともあります。特に新規参加者にとってはこのような事態はなるべく避けたいでしょう。

有名なワークフローとして、**[Git Flow](http://nvie.com/posts/a-successful-git-branching-model/)**と**[GitHub Flow](https://guides.github.com/introduction/flow/)**の2つがあります。2つを比較すると前者の方が複雑で、バージョン1、バージョン2のようにバージョン番号をつけて管理するようなソフトウェア（例：ネイティブアプリ）の開発に向いています。後者はよりシンプルで、常に更新し続けるWebサービスの開発に向いています。

本書では後者のGitHub Flowを扱います。

なお、GitHub Flowなどのワークフローを採用したからと言って、コンフリクトが発生しなくなるわけではありません。複数人が同じファイルの同じ箇所を同じタイミングで変更した場合、やはりコンフリクトが発生します。同じファイルを変更する必要がある場合は、コミュニケーションを取り、タイミングを調整しましょう。詳しくは後述しますが、それでもコンフリクトが発生した場合、後からマージされるブランチの側でコンフリクトを解消します。

## 2.2. GitHub Flowとは

GitHub Flowの基本的なアイデアは、1つ以上のコミットをまとめた変更のセットをプルリクエストという単位でまとめて反映していくというものです。

GitHub Flowではmasterブランチを常に正常動作するよう維持します。masterブランチへの変更の反映は、動作確認とレビューが済んだブランチのマージのみで行います。これによってmasterブランチが正常動作する状態を保てます。

レビューとマージにはGitHubのプルリクエスト機能を使います。プルリクエストを使うと、Web画面で変更をわかりやすく表示し、レビューコメントをやり取りできます。

GitHub Flowの開発に新しく参加する際に特に覚えておいてほしいのは、以下の2点です。

1. **ローカルからサーバーへのプッシュは開発用のブランチのみで行う**
2. **サーバーからローカルへのプルはmasterブランチのみで行う**

特にmasterブランチに対して直接プッシュしてはいけません。GitHubのリポジトリの設定によってmasterブランチへのプッシュを禁止することも可能です。

## 2.3. 本章の参考文献

* [A successful Git branching model » nvie.com](http://nvie.com/posts/a-successful-git-branching-model/)
* [Understanding the GitHub Flow · GitHub Guides](https://guides.github.com/introduction/flow/)
